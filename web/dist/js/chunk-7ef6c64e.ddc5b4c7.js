(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ef6c64e"],{"53ee":function(t,e,s){"use strict";var a=s("97c0"),i=s.n(a);i.a},"97c0":function(t,e,s){},cf2a:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("div",{staticClass:"main"},[s("h3",{staticClass:"title"},[t._v("我的订单")]),s("div",{staticClass:"nav"},[s("ul",{staticClass:"type-none"},[s("li",{class:{active:0===t.activeId},on:{click:function(e){return t.changed(0)}}},[t._v("全部有效订单")]),s("li",{class:{active:1===t.activeId},on:{click:function(e){return t.changed(1)}}},[t._v("待支付")]),s("li",[t._v("待收货")]),s("li",[t._v("订单回收站")])]),t._m(0)]),t._l(t.model_,(function(e,a){return s("div",{key:a,class:{order_body:!0,pay:!e.pay&&!e.close,success:e.pay,close:e.close}},[s("div",{staticClass:"order_title"},[e.close?s("p",{staticClass:"state color-666"},[t._v("已关闭")]):s("div",[s("p",{directives:[{name:"show",rawName:"v-show",value:e.pay,expression:"item.pay"}],staticClass:"state"},[t._v("已付款")]),s("p",{directives:[{name:"show",rawName:"v-show",value:!e.pay,expression:"!item.pay"}],staticClass:"state"},[t._v("等待付款")])]),s("div",{staticClass:"information"},[s("div",{staticClass:"left"},[s("span",[t._v(t._s(t._f("timer")(e.createdAt)))]),s("span",[t._v(t._s(e.address.name))]),s("span",[t._v("订单号："+t._s(e._id))]),s("span",[t._v(t._s(e.payType||"待支付"))]),s("span",[t._v("2020年03月17日 07:46")])]),s("div",[s("span",{directives:[{name:"show",rawName:"v-show",value:e.pay,expression:"item.pay"}]},[t._v("实付金额:")]),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.pay,expression:"!item.pay"}]},[t._v("应付金额:")]),s("span",{staticClass:"price paimary-color"},[t._v(t._s(e.price)+".00")]),t._v("元 ")])])]),s("div",{staticClass:"goods_container"},[t._l(e.item,(function(e,a){return s("div",{key:a,staticClass:"goods_list"},[s("div",{staticClass:"item"},[s("div",{staticClass:"img_box"},[s("img",{attrs:{src:e.icon}})]),s("div",{staticClass:"name"},[s("p",[t._v(t._s(e.name)+" "+t._s(e.size)+" "+t._s(e.color))]),s("p",[t._v(t._s(e.price)+"元 × "+t._s(e.num))])])])])})),s("div",{staticClass:"btn_list"},[e.close||e.pay?t._e():s("router-link",{staticClass:"pay_button",attrs:{tag:"button",to:"/mi/pay/"+e._id}},[t._v("立即付款")]),s("router-link",{attrs:{tag:"button",to:"/home/order/info/"+e._id}},[t._v("订单详情")])],1)],2)])})),s("div",{staticStyle:{"text-align":"center"}},[s("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{background:"",layout:"prev, pager, next",total:10*t.list[t.activeId].length},on:{"current-change":t.change}})],1)],2)])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header_inout"},[s("input",{attrs:{type:"text"}}),s("button",[s("i",{staticClass:"iconfont icon-search"})])])}],n=(s("d81d"),s("fb6a"),s("ac1f"),s("5319"),s("96cf"),s("1da1")),c={data:function(){return{activeId:0,endTime:"",showId:0,list:[[],[]]}},filters:{timer:function(t){var e=new Date(t),s=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var i=e.getDate();i=i<10?"0"+i:i;var n=e.getHours();n=n<10?"0"+n:n;var c=e.getMinutes();c=c<10?"0"+c:c;var r=s+"年"+a+"月"+i+"日"+n+":"+c;return r}},methods:{fetch:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,i,n,c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/order/"+t.$store.getters.user._id);case 2:for(s=e.sent,t.model=s,a=Date.now(),i=[],s.map((function(t){t.pay?t.close=!1:(t.close=t.endTime<=a,t.close||t.pay||i.push(t))})),n=[],c=[],r=0;r<s.length;r++)n.push(s.slice(r,r+5)),r<i.length&&c.push(i.slice(r,r+5)),r+=4;t.list=[n,c],console.log(t.list);case 12:case"end":return e.stop()}}),e)})))()},change:function(t){this.showId=t-1},changed:function(t){this.activeId=t,this.showId=0}},computed:{model_:function(){return console.log(this.list[this.activeId][this.showId]),this.list[this.activeId][this.showId]}},created:function(){this.$store.getters.user||this.$router.replace("/home/display"),this.fetch()},destroyed:function(){document.documentElement.scrollTop=0}},r=c,o=(s("53ee"),s("2877")),l=Object(o["a"])(r,a,i,!1,null,"9771a76e",null);e["default"]=l.exports},fb6a:function(t,e,s){"use strict";var a=s("23e7"),i=s("861d"),n=s("e8b5"),c=s("23cb"),r=s("50c4"),o=s("fc6a"),l=s("8418"),d=s("b622"),u=s("1dde"),v=s("ae40"),p=u("slice"),h=v("slice",{ACCESSORS:!0,0:0,1:2}),_=d("species"),m=[].slice,f=Math.max;a({target:"Array",proto:!0,forced:!p||!h},{slice:function(t,e){var s,a,d,u=o(this),v=r(u.length),p=c(t,v),h=c(void 0===e?v:e,v);if(n(u)&&(s=u.constructor,"function"!=typeof s||s!==Array&&!n(s.prototype)?i(s)&&(s=s[_],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return m.call(u,p,h);for(a=new(void 0===s?Array:s)(f(h-p,0)),d=0;p<h;p++,d++)p in u&&l(a,d,u[p]);return a.length=d,a}})}}]);
//# sourceMappingURL=chunk-7ef6c64e.ddc5b4c7.js.map