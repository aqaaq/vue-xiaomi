(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c844941e"],{4227:function(t,e,s){"use strict";var a=s("9b95"),i=s.n(a);i.a},"9b95":function(t,e,s){},"9f52":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.model.name?s("div",{staticClass:"container"},[s("div",{staticClass:"main"},[s("div",{staticClass:"adsorb"},[s("div",{staticClass:"goods"},[s("span",{staticClass:"title"},[t._v(t._s(t.model.name))]),t._v("| "),s("span",{staticClass:"name"},[t._v(t._s(t.model.name))])]),t._m(0)])]),s("div",{staticStyle:{background:"white"}},[s("div",{staticClass:"goods_info"},[s("div",{staticClass:"left"},[s("swiper",{attrs:{imgList:t.currImg,open:!0,form:"1"}})],1),s("div",{staticClass:"right"},[s("span",{staticClass:"title"},[t._v(t._s(t.model.name))]),s("p",{staticClass:"info"},[t._v(t._s(t.model.info))]),s("p",{staticClass:"paimary-color m-t5"},[t._v("小米自营")]),s("p",{staticClass:"paimary-color title"},[t._v(t._s(t.currVal.size[t.active01].price)+"元")]),t._m(1),s("h4",{staticClass:"tag"},[t._v("版本信息")]),s("div",{staticClass:"version"},[t.currVal.size[0].name?s("ul",{staticClass:"type-none"},t._l(t.currVal.size,(function(e,a){return s("li",{directives:[{name:"show",rawName:"v-show",value:e.name,expression:"item.name"}],key:a,class:{active:t.active01===a},on:{click:function(e){t.active01=a}}},[t._v(t._s(e.name))])})),0):s("ul",{staticClass:"type-none"},[s("li",{staticClass:"active"},[t._v("默认")])])]),t.model.version[0].color?s("h4",{staticClass:"tag"},[t._v("选择颜色")]):t._e(),t.model.version[0].color?s("div",{staticClass:"version"},[s("ul",{staticClass:"type-none"},t._l(t.model.version,(function(e,a){return s("li",{key:a,class:{active:t.active===a},on:{click:function(e){t.active=a}}},[t._v(t._s(e.color))])})),0)]):t._e(),s("div",{staticClass:"address"},[s("p",{staticClass:"color-666"},[t._v(" "+t._s(t.model.name)+" "+t._s(t.currVal.size[t.active01].name)+" "+t._s(t.currVal.color)+" "),s("span",{staticStyle:{float:"right"}},[t._v(t._s(t.currVal.size[t.active01].price)+" 元")])]),s("p",{staticClass:"price color-primary"},[t._v("总计:"+t._s(t.currVal.size[t.active01].price)+"元")])]),s("div",{staticClass:"btn"},[s("button",{staticClass:"add paimary-color",on:{click:t.cartList_push}},[t._v("加入购物车")]),s("button",{staticClass:"like"},[t._v("喜欢")])])])])])]):t._e()},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"menu"},[s("span",[t._v("概述")]),s("span",[t._v("参数")]),s("span",[t._v("F码通道")]),s("span",[t._v("咨询客服")]),s("span",[t._v("用户评价")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"address"},[s("i",{staticClass:"iconfont icon-gaopinxiaohui"}),s("span",[t._v(" 北京 北京市 海淀区 清河街道 "),s("span",{staticClass:"color-primary"},[t._v("修改")])]),s("br"),s("span",{staticClass:"color-primary"},[t._v("有现货")])])}],r=(s("d81d"),s("b0c0"),s("96cf"),s("1da1")),n=s("8419"),c={name:"Details",props:{id:{type:String,required:!0}},components:{Swiper:n["a"]},data:function(){return{model:{},active:0,active01:0}},methods:{fetch:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.id){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,t.$http.get("/goods/".concat(t.id));case 4:t.model=e.sent,t.model.version[0].size.name||(t.model.version[0].size.name="默认"),console.log(t.model);case 7:case"end":return e.stop()}}),e)})))()},cartList_push:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,a,i,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$store.getters.user){e.next=3;break}return console.log("no login"),e.abrupt("return",t.$router.push("/mi/cart"));case 3:if(s={version:t.active,size:t.active01,id:t.model._id,num:1},a=JSON.stringify(t.$store.state.cartList),i=JSON.parse(a),r=!1,!(i.length>0)){e.next=17;break}n=0;case 9:if(!(n<i.length)){e.next=17;break}if(i[n].id._id!==s.id||i[n].size!==s.size||i[n].version!==s.version){e.next=14;break}return i[n].num+=s.num,r=!0,e.abrupt("break",17);case 14:n++,e.next=9;break;case 17:r||i.push(s),t.edit(i),t.$router.push("/mi/cart");case 20:case"end":return e.stop()}}),e)})))()},edit:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.$store.getters.user._id||"",s.next=3,e.$http.put("/cart/"+a,{item:t});case 3:i=s.sent,sessionStorage.setItem("cartList",JSON.stringify(i)),e.$store.commit("setCartList",i);case 6:case"end":return s.stop()}}),s)})))()}},computed:{currVal:function(){return this.model.version[this.active]||[]},currImg:function(){var t=this.currVal.image.map((function(t){return{image:t}}));return t}},watch:{id:function(){this.fetch()},active:function(){this.active01=0}},created:function(){this.fetch()}},o=c,l=(s("4227"),s("2877")),u=Object(l["a"])(o,a,i,!1,null,"314af574",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-c844941e.73cb5330.js.map