{"version":3,"sources":["webpack:///./src/components/OrderEdit.vue?e606","webpack:///./src/components/OrderEdit.vue?db82","webpack:///src/components/OrderEdit.vue","webpack:///./src/components/OrderEdit.vue?4ea8","webpack:///./src/components/OrderEdit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","orderList","scopedSlots","_u","key","fn","props","_v","_s","_f","row","createdAt","_l","item","index","name","price","address","phone","first","last","scope","class","judgementType","judgement","total","on","currentChange","staticRenderFns","data","tableData","tableData1","currentPage","searchValue","methods","load","setTimeout","resolve","fetch","loading","$loading","$http","tableRowClassName","rowIndex","payType","Date","now","endTime","filters","time","date","year","month","day","hours","min","created","component"],"mappings":"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","file":"js/chunk-599f334b.4b81ba00.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@10.1.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderEdit.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@10.1.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderEdit.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.orderList}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"日期:\"}},[_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"time\")(props.row.createdAt)))])]),_c('br'),_c('el-form-item',{attrs:{\"label\":\"商品列表:\"}},_vm._l((props.row.item),function(item,index){return _c('div',{key:index},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))])])}),0),_c('br'),_c('el-form-item',{attrs:{\"label\":\"总价:\"}},[_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(props.row.price)+\"元\")])]),_c('br'),_c('el-form-item',{attrs:{\"label\":\"联系电话:\"}},[_c('span',[_vm._v(_vm._s(props.row.address.phone))])]),_c('br'),_c('el-form-item',{attrs:{\"label\":\"收货人地址:\"}},[_c('span',[_vm._v(_vm._s(props.row.address.first + \" \" + props.row.address.last))])])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"订单 ID\",\"prop\":\"_id\"}}),_c('el-table-column',{attrs:{\"label\":\"用户名\",\"prop\":\"address.name\"}}),_c('el-table-column',{attrs:{\"label\":\"订单状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{class:_vm.judgementType(scope.row) === 'info' ? 'red' : '',attrs:{\"type\":_vm.judgementType(scope.row),\"disable-transitions\":\"\"}},[_vm._v(_vm._s(_vm.judgement(scope.row)))])]}}])})],1),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.total},on:{\"current-change\":_vm.currentChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <el-table :data=\"orderList\" style=\"width: 100%\">\r\n      <el-table-column type=\"expand\">\r\n        <template slot-scope=\"props\">\r\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n            <el-form-item label=\"日期:\">\r\n              <span class=\"time\">{{ props.row.createdAt | time }}</span>\r\n            </el-form-item>\r\n            <br />\r\n            <el-form-item label=\"商品列表:\">\r\n              <div v-for=\"(item, index) in props.row.item\" :key=\"index\">\r\n                <span class=\"name\">{{ item.name }}</span>\r\n              </div>\r\n            </el-form-item>\r\n            <br />\r\n            <el-form-item label=\"总价:\">\r\n              <span class=\"price\">{{ props.row.price }}元</span>\r\n            </el-form-item>\r\n            <br />\r\n            <el-form-item label=\"联系电话:\">\r\n              <span>{{ props.row.address.phone }}</span>\r\n            </el-form-item>\r\n            <br />\r\n            <el-form-item label=\"收货人地址:\">\r\n              <span>{{\r\n                props.row.address.first + \"  \" + props.row.address.last\r\n              }}</span>\r\n            </el-form-item>\r\n          </el-form>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"订单 ID\" prop=\"_id\"> </el-table-column>\r\n      <el-table-column label=\"用户名\" prop=\"address.name\"> </el-table-column>\r\n      <el-table-column label=\"订单状态\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag\r\n            :type=\"judgementType(scope.row)\"\r\n            :class=\"judgementType(scope.row) === 'info' ? 'red' : ''\"\r\n            disable-transitions\r\n            >{{ judgement(scope.row) }}</el-tag\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      @current-change=\"currentChange\"\r\n      background\r\n      layout=\"prev, pager, next\"\r\n      :total=\"total\"\r\n    >\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData: [\r\n        {\r\n          id: 1,\r\n          date: \"2016-05-02\",\r\n          name: \"王小虎\",\r\n          address: \"上海市普陀区金沙江路 1518 弄\",\r\n        },\r\n        {\r\n          id: 2,\r\n          date: \"2016-05-04\",\r\n          name: \"王小虎\",\r\n          address: \"上海市普陀区金沙江路 1517 弄\",\r\n        },\r\n        {\r\n          id: 3,\r\n          date: \"2016-05-01\",\r\n          name: \"王小虎\",\r\n          address: \"上海市普陀区金沙江路 1519 弄\",\r\n          children: [\r\n            {\r\n              id: 31,\r\n              date: \"2016-05-01\",\r\n              name: \"王小虎\",\r\n              address: \"上海市普陀区金沙江路 1519 弄\",\r\n            },\r\n            {\r\n              id: 32,\r\n              date: \"2016-05-01\",\r\n              name: \"王小虎\",\r\n              address: \"上海市普陀区金沙江路 1519 弄\",\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          id: 4,\r\n          date: \"2016-05-03\",\r\n          name: \"王小虎\",\r\n          address: \"上海市普陀区金沙江路 1516 弄\",\r\n        },\r\n      ],\r\n      tableData1: [\r\n        {\r\n          id: 1,\r\n          date: \"2016-05-02\",\r\n          name: \"王小虎\",\r\n          address: \"上海市普陀区金沙江路 1518 弄\",\r\n        },\r\n        {\r\n          id: 2,\r\n          date: \"2016-05-04\",\r\n          name: \"王小虎\",\r\n          address: \"上海市普陀区金沙江路 1517 弄\",\r\n        },\r\n        {\r\n          id: 3,\r\n          date: \"2016-05-01\",\r\n          name: \"王小虎\",\r\n          address: \"上海市普陀区金沙江路 1519 弄\",\r\n          hasChildren: true,\r\n        },\r\n        {\r\n          id: 4,\r\n          date: \"2016-05-03\",\r\n          name: \"王小虎\",\r\n          address: \"上海市普陀区金沙江路 1516 弄\",\r\n        },\r\n      ],\r\n      total: 0,\r\n      orderList: [],\r\n      currentPage: 0,\r\n      searchValue: \"\",\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    load(tree, treeNode, resolve) {\r\n      setTimeout(() => {\r\n        resolve([\r\n          {\r\n            id: 31,\r\n            date: \"2016-05-01\",\r\n            name: \"王小虎\",\r\n            address: \"上海市普陀区金沙江路 1519 弄\",\r\n          },\r\n          {\r\n            id: 32,\r\n            date: \"2016-05-01\",\r\n            name: \"王小虎\",\r\n            address: \"上海市普陀区金沙江路 1519 弄\",\r\n          },\r\n        ]);\r\n      }, 1000);\r\n    },\r\n    fetch() {\r\n      var total = this.currentPage;\r\n      var loading = this.$loading({});\r\n      this.$http\r\n        .get(`/test/allOrder/${total}`)\r\n        .then((data) => {\r\n          this.total = data.length ? data.length : this.total;\r\n          this.orderList = data.result;\r\n          loading.close();\r\n        })\r\n        .catch(() => {\r\n          loading.close();\r\n        });\r\n    },\r\n    tableRowClassName({ row, rowIndex }) {\r\n      if (rowIndex % 2 === 0) {\r\n        return \"warning-row\";\r\n      } else {\r\n        return \"success-row\";\r\n      }\r\n      return \"\";\r\n    },\r\n    currentChange(currentPage) {\r\n      if (this.currentPage != currentPage) {\r\n        this.currentPage = currentPage;\r\n        this.fetch();\r\n      }\r\n    },\r\n    judgement(data) {\r\n      if (data.payType) {\r\n        return data.payType;\r\n      }\r\n      if (Date.now() > data.endTime) {\r\n        return \"订单关闭\";\r\n      } else {\r\n        return \"待支付\";\r\n      }\r\n    },\r\n    judgementType(data) {\r\n      if (data.payType) {\r\n        return \"success\";\r\n      }\r\n      if (Date.now() > data.endTime) {\r\n        return \"info\";\r\n      } else {\r\n        return \"primary\";\r\n      }\r\n    },\r\n  },\r\n  filters: {\r\n    time(date) {\r\n      date = new Date(date);\r\n      let year = date.getFullYear(),\r\n        month = date.getMonth() + 1,\r\n        day = date.getDate(),\r\n        hours = date.getHours(),\r\n        min = date.getMinutes();\r\n      return year + \"-\" + month + \"-\" + day + \" \" + hours + \":\" + min;\r\n    },\r\n  },\r\n  created() {\r\n    this.fetch();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.container {\r\n  padding: 10px 10px;\r\n}\r\n\r\n.el-table .warning-row {\r\n  background: #e6f0fd;\r\n}\r\n\r\n.el-table .success-row {\r\n  background: #ffffff;\r\n}\r\n.red {\r\n  color: red !important;\r\n}\r\n.price {\r\n  font-size: 18px;\r\n  color: orange;\r\n}\r\n.name {\r\n  font-size: 18px;\r\n  color: #666;\r\n}\r\n.el-table__expanded-cell {\r\n  background: rgb(251, 253, 255);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderEdit.vue?vue&type=template&id=a8d80eae&\"\nimport script from \"./OrderEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderEdit.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}